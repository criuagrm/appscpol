<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión de Practicum UAGRM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Mermaid JS -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'base',
            securityLevel: 'loose',
            themeVariables: {
                primaryColor: '#e0f2fe',
                edgeLabelBackground: '#ffffff',
                tertiaryColor: '#f3e5f5',
                fontFamily: 'sans-serif'
            }
        });
    </script>
    
    <style>
        .role-badge {
            font-size: 0.75rem;
            text-transform: uppercase;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 4px;
        }
        .mermaid {
            display: flex;
            justify-content: center;
            background: white;
            padding: 20px;
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 font-sans">

    <!-- Navbar -->
    <nav class="bg-slate-900 text-white p-4 shadow-lg sticky top-0 z-50 border-b-4 border-red-700">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-red-700 rounded-full flex items-center justify-center font-bold">CP</div>
                <div>
                    <h1 class="font-bold text-lg leading-tight">Gestión de Practicum</h1>
                    <p class="text-xs text-slate-400">Ciencia Política y Adm. Pública</p>
                </div>
            </div>
            <div class="hidden md:flex gap-4 text-sm">
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 bg-indigo-600 rounded-full"></span> Coordinador
                </div>
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 bg-amber-500 rounded-full"></span> Prof. Guía
                </div>
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 bg-purple-600 rounded-full"></span> Tutor Inst.
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">

        <!-- Intro -->
        <div class="mb-6 bg-white p-6 rounded-lg shadow-sm border-l-4 border-red-700">
            <h2 class="text-2xl font-bold text-slate-800">Flujo Administrativo de Cumplimiento</h2>
            <p class="text-slate-600 mt-2">
                Este modelo separa estrictamente las funciones del <strong>Coordinador</strong> (Gestión de Plazas - Art. 6), 
                <strong>Profesor Guía</strong> (Seguimiento Académico - Art. 7) y <strong>Tutor Institucional</strong> (Evaluación Laboral - Art. 8),
                automatizando los "candados" administrativos para evitar errores humanos.
            </p>
        </div>

        <!-- Mermaid Chart Container -->
        <div class="bg-white rounded-xl shadow-xl p-6 mb-10 overflow-x-auto">
            <div class="mermaid">
graph TD
    classDef coord fill:#e0e7ff,stroke:#4338ca,stroke-width:2px,color:#312e81
    classDef guia fill:#fef3c7,stroke:#d97706,stroke-width:2px,color:#78350f
    classDef tutor fill:#f3e8ff,stroke:#7e22ce,stroke-width:2px,color:#581c87
    classDef st fill:#f1f5f9,stroke:#64748b,stroke-width:1px
    classDef bot fill:#dcfce7,stroke:#16a34a,stroke-width:2px,color:#14532d

    subgraph F1 [FASE 1 - HABILITACION Y ASIGNACION]
        direction TB
        Start((Inicio)) --> A["Estudiante: Carga Requisitos"]:::st
        A --> B{"Sistema: Valida?"}:::bot
        B -- No --> A
        B -- Si --> C["Coord: Revisa Cupos"]:::coord
        C --> D["Coord: Autoriza Plaza"]:::coord
        D --> E["Sistema: Genera Cartas"]:::bot
    end

    subgraph F2 [FASE 2 - EJECUCION Y CONTROL]
        direction TB
        E --> F[Inicio Practicas]
        F --> G["Est: Sube Bitacora"]:::st
        G --> H["Guia: Valida Metodologia"]:::guia
        F --> I["Est: Marca Asistencia GPS"]:::st
        I --> J["Sistema: Acumula Horas"]:::bot
        J --> K{"Sistema: Cumplio 50%?"}:::bot
        K -- Si --> L["Sistema: Envia Evaluacion"]:::bot
        L --> M["Tutor: Evalua Competencias"]:::tutor
    end

    subgraph F3 [FASE 3 - CALIFICACION]
        direction TB
        M --> N["Est: Sube Memoria Final"]:::st
        N --> O["Guia: Aprueba Memoria"]:::guia
        O --> P{"Sistema: Calcula Nota"}:::bot
        P -- Menor a 30 --> Q[Reprobado]
        P -- Mayor a 30 --> R["Coord: Habilita Defensa"]:::coord
        R --> S["Tribunal: Defensa Oral"]:::coord
        S --> T["Sistema: Nota Final"]:::bot
    end

    H -.-> N
            </div>
        </div>

        <!-- Role Breakdown Grid -->
        <div class="grid md:grid-cols-3 gap-6 mb-8">
            
            <!-- Rol Coordinador -->
            <div class="bg-indigo-50 p-5 rounded-lg border border-indigo-200">
                <span class="role-badge bg-indigo-600 text-white">Art. 6 - Coordinador</span>
                <h3 class="font-bold text-indigo-900 mt-2">Gestor Administrativo</h3>
                <ul class="text-sm text-indigo-800 mt-3 space-y-2">
                    <li class="flex gap-2">
                        <i class="fas fa-check-circle mt-1"></i>
                        <span><strong>Función:</strong> Asignar centros de práctica y firmar convenios.</span>
                    </li>
                    <li class="flex gap-2">
                        <i class="fas fa-robot mt-1"></i>
                        <span><strong>Automatización:</strong> Dashboard de "Plazas Disponibles" vs "Estudiantes Inscritos". Generación automática de cartas de presentación.</span>
                    </li>
                </ul>
            </div>

            <!-- Rol Profesor Guía -->
            <div class="bg-amber-50 p-5 rounded-lg border border-amber-200">
                <span class="role-badge bg-amber-600 text-white">Art. 7 - Prof. Guía</span>
                <h3 class="font-bold text-amber-900 mt-2">Mentor Académico</h3>
                <ul class="text-sm text-amber-800 mt-3 space-y-2">
                    <li class="flex gap-2">
                        <i class="fas fa-check-circle mt-1"></i>
                        <span><strong>Función:</strong> Revisar semanalmente la Bitácora y aprobar la Memoria.</span>
                    </li>
                    <li class="flex gap-2">
                        <i class="fas fa-robot mt-1"></i>
                        <span><strong>Automatización:</strong> Recibe alertas si un alumno no sube su resumen semanal. Botón de "Aprobado" para pasar a fase de defensa.</span>
                    </li>
                </ul>
            </div>

            <!-- Rol Tutor -->
            <div class="bg-purple-50 p-5 rounded-lg border border-purple-200">
                <span class="role-badge bg-purple-600 text-white">Art. 8 - Tutor Externo</span>
                <h3 class="font-bold text-purple-900 mt-2">Supervisor Laboral</h3>
                <ul class="text-sm text-purple-800 mt-3 space-y-2">
                    <li class="flex gap-2">
                        <i class="fas fa-check-circle mt-1"></i>
                        <span><strong>Función:</strong> Evaluar desempeño, puntualidad y actitud en el trabajo.</span>
                    </li>
                    <li class="flex gap-2">
                        <i class="fas fa-robot mt-1"></i>
                        <span><strong>Automatización:</strong> No llena papeles. Recibe un link seguro al 50% y 100% del tiempo para calificar con estrellas (1-5) las competencias.</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Compliance Gates Section -->
        <h3 class="text-xl font-bold text-slate-800 mb-4 px-2">Candados de Cumplimiento (Art. 10 y 11)</h3>
        <div class="bg-white rounded-lg shadow border border-slate-200 divide-y">
            
            <div class="p-4 flex flex-col md:flex-row gap-4 items-start md:items-center">
                <div class="bg-green-100 text-green-700 p-3 rounded-full shrink-0">
                    <i class="fas fa-fingerprint text-xl"></i>
                </div>
                <div>
                    <h4 class="font-bold text-slate-800">1. Validación de Asistencia (10 Pts)</h4>
                    <p class="text-sm text-slate-600">
                        <strong>Reglamento:</strong> Exige "Sello de la institución" diario.<br>
                        <strong>Automatización:</strong> Check-in por Geolocalización. El sistema valida que el estudiante esté en las coordenadas de la institución. Genera un reporte mensual PDF que el Tutor firma una sola vez digitalmente, cumpliendo el requisito legal de "visto bueno".
                    </p>
                </div>
            </div>

            <div class="p-4 flex flex-col md:flex-row gap-4 items-start md:items-center">
                <div class="bg-red-100 text-red-700 p-3 rounded-full shrink-0">
                    <i class="fas fa-calculator text-xl"></i>
                </div>
                <div>
                    <h4 class="font-bold text-slate-800">2. Habilitación Automática (30 Pts Mínimo)</h4>
                    <p class="text-sm text-slate-600">
                        <strong>Reglamento:</strong> Se requiere 30/50 puntos acumulados para defender.<br>
                        <strong>Automatización:</strong> El sistema bloquea la programación de la fecha de defensa hasta que la fórmula matemática se cumpla: <br>
                        <code class="bg-slate-100 px-2 py-1 rounded text-xs mt-1 block w-fit">Nota = (Eval. Tutor * 0.15) + (Asistencia * 0.10) + (Memoria Guía * 0.25)</code>
                        Si el resultado es < 30, el sistema emite alerta de "Riesgo de Reprobación".
                    </p>
                </div>
            </div>

        </div>

    </main>
</body>
</html>
